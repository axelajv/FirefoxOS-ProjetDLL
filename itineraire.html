<!DOCTYPE html>
<html lang="fr">
    <head>
    <title>Itinéraire</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="bootstrap/js/bootstrap.min.js"></script>
    <link href="css/design.css" rel="stylesheet">
	<script src="bootstrap/js/moment-with-locales.min.js"></script>
	<link href="bootstrap/css/bootstrap-datetimepicker.css" rel="stylesheet">
	<link href="bootstrap/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
	<script src="bootstrap/js/bootstrap-datetimepicker.js"></script>
	<script src="bootstrap/js/bootstrap-datetimepicker.min.js"></script>
	<script src="bootstrap/js/collapse.js.min.js"></script>
	<script src="bootstrap/js/typeahead.bundle.js"></script>
	<script src="js/jquery.formatDateTime.min.js"></script>
	<script src="js/Itineraire.js"></script>
	
	
	<script type="text/javascript">	
	/*$('#depart').typeahead({ 
    source: function(query, process) {
        var $url ='https://api.navitia.io/v1/coverage/fr-idf/stop_areas';
        var $items = new Array;
        $items = [""];
        $.ajax({
		beforeSend: function(request) {
        request.setRequestHeader("Authorization", '0da1aeae-b764-4b74-85fc-be27c8546a69' );
          },
            url: $url,
            dataType: "json",
            type: "POST",
            success: function(data) {
                console.log(data);
                $.map(data, function(data){
                    var group;
                    group = {
                        id: data.stop_area,
                        name: data.name,                            
                        toString: function () {
                            return JSON.stringify(this);
                            //return this.app;
                        },
                        toLowerCase: function () {
                            return this.name.toLowerCase();
                        },
                        indexOf: function (string) {
                            return String.prototype.indexOf.apply(this.name, arguments);
                        },
                        replace: function (string) {
                            var value = '';
                            value +=  this.name;
                            if(typeof(this.level) != 'undefined') {
                                value += ' <span class="pull-right muted">';
                                value += this.level;
                                value += '</span>';
                            }
                            return String.prototype.replace.apply('<div style="padding: 10px; font-size: 1.5em;">' + value + '</div>', arguments);
                        }
                    };
                    $items.push(group);
                });

                process($items);
            }
        });
    },
    property: 'name',
    items: 10,
    minLength: 2,
    updater: function (item) {
        var item = JSON.parse(item);
        console.log(item.name); 
        $('#hiddenID').val(item.id);       
        return item.name;
    }
});*/

var substringMatcher = function(strs) {
  return function findMatches(q, cb) {
    var matches, substrRegex;
 
    // an array that will be populated with substring matches
    matches = [];
 
    // regex used to determine if a string contains the substring `q`
    substrRegex = new RegExp(q, 'i');
 
    // iterate through the pool of strings and for any string that
    // contains the substring `q`, add it to the `matches` array
    $.each(strs, function(i, str) {
      if (substrRegex.test(str)) {
        // the typeahead jQuery plugin expects suggestions to a
        // JavaScript object, refer to typeahead docs for more info
        matches.push({ value: str });
      }
    });
 
    cb(matches);
  };
};
 
var states = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
  'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii',
  'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana',
  'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota',
  'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire',
  'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota',
  'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island',
  'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont',
  'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'
];
 
$('#the-basics .typeahead').typeahead({
  hint: true,
  highlight: true,
  minLength: 1
},
{
  name: 'states',
  displayKey: 'value',
  source: substringMatcher(states)
});

$('#search').typeahead([
{
name: 'planets',
local: [ "Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune" ]
}
]);

	</script>
	
	
 
      
    </head>
    <body>
    

    
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">
           <p><img src="images/test.png" class="logoappli" alt="Image flottante" /> SNCF Transilien</p>
          </a>
          

        </div>
      </div>
    </nav>

	<div id="the-basics">
  <input class="typeahead" type="text" placeholder="States of USA">
</div>

<body>
   <input id="search"/>
</body>
	
<div id='form'>
   <div class="container">
    <div class="row">
      <div id="bloc-accueil-body" class="col-xs-4 col-sm-3 col-md-2"><div class="input-group">
		<span class="input-group-addon" id="basic-addon1">Départ : </span>
		<input id="depart" type="text" class="form-control" placeholder="Stations" aria-describedby="basic-addon1" data-provide="typeahead">
		</div></div> 
      
    </div>
	
	
    <div class="row">
     <br> <div id="bloc-accueil-body" class="col-xs-4 col-sm-3 col-md-2"><div class="input-group">
  <span class="input-group-addon" id="basic-addon1">Arrivée : </span>
  <input id="arrivee" type="text" class="form-control" placeholder="Stations" aria-describedby="basic-addon1" autocomplete="off">
</div>
</div> 
 </div>
 
 
 <br />

 <div class="row">
     <br>
	 <div id="bloc-accueil-body" class="col-xs-4 col-sm-3 col-md-2">
		<div class="input-group">
		<button id="go" type="button" class="btn btn-primary" onClick="go()">Partir maintenant</button>
		</div>
	</div> 
 </div>
 <br>
  <div class="row">
	 <div id="bloc-accueil-body" class="col-xs-4 col-sm-3 col-md-2">
	 <div id="bloc-accueil-body" class="col-xs-4 col-sm-3 col-md-2">
		<div class="input-group">
		<button id="next" type="button" class="btn btn-primary" onClick="selectDate()">Partir plus tard</button>
		</div>
	</div> 
 </div>
 </div>
 <br />
 <div id="plustard" style="display:none;">
 
    <div class="btn-group" id="type" data-toggle="buttons">
        <label class="btn btn-primary active">
            <input type="radio" name="options" id="option1" checked="" value="departure "> Partir à
        </label>
        <label class="btn btn-primary">
            <input type="radio" name="options" id="option2" value="arrival"> Arriver à
        </label>
    </div>
	<br><br>
        <div class="col-xs-4 col-sm-3 col-md-2">
            <div class="form-group">
                <div class='input-group date' id='datetimepicker1'>
                    <input type='text' class="form-control" id="dateTime" />
                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
        </div>

     <br> <br>
	<div id="bloc-accueil-body" class="col-xs-4 col-sm-3 col-md-2">
	 <div id="bloc-accueil-body" class="col-xs-4 col-sm-3 col-md-2">
		<div class="input-group">
		<button id="partir" type="button" class="btn btn-primary" onClick="goafter()">Partir</button>
		</div>
	</div> 
 </div>       
	   
	   
           <script type="text/javascript">
		   
$(function () {
$('#datetimepicker1').datetimepicker({
locale: 'fr',
sideBySide: true,
//collapse:false,

});
});

        </script>
    

</div>
	
	</div>
    </div>
</div>

<div id='result' style='display:none'>





</div>

  <!-- Footer -->
  <nav class="navbar navbar-default navbar-fixed-bottom">
    <div class="container">
      <div class="row">
        <div id="bloc-accueil-footer" class="col-xs-3">
          <button  type="button" class="btn btn-default" aria-label="Left Align">
            <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
          </button>
        </div>
        <div id="bloc-accueil-footer" class="col-xs-3"> 
          <button type="button" class="btn btn-default" aria-label="Left Align">
            <span  class="glyphicon glyphicon-blackboard" aria-hidden="true"></span>
          </button>
        </div>
        <div id="bloc-accueil-footer" class="col-xs-3">
          <button type="button" class="btn btn-default" aria-label="Left Align">
            <span class="glyphicon glyphicon-alert" aria-hidden="true"></span>
          </button>
        </div>
        <div id="bloc-accueil-footer" class="col-xs-3">
          <button type="button" class="btn btn-default" aria-label="Left Align">
            <span class="glyphicon glyphicon-road" aria-hidden="true"></span>
          </button>
        </div>
      </div>
    </div>
  </nav>
  </body>
</html>

